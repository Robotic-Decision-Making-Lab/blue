launch:

  # Arguments
  - arg:
      name: description_package
      default: blue_description

  - arg:
      name: mavros_file
      default: $(find-pkg-share $(var description_package))/config/ardusub/mavros.yaml

  - arg:
      name: gazebo_world_file

  - arg:
      name: ardusub_params_file

  - arg:
      name: use_sim
      default: "false"

  # Nodes
  - node:
      pkg: mavros
      exec: mavros_node
      param:
        - from: $(var mavros_file)
        - name: use_sim_time
          value: $(var use_sim)

  # Includes
  - include:
      file: $(find-pkg-share blue_bringup)/launch/ardusub/sitl.launch.yaml
      if: $(var use_sim)
      arg:
        - name: description_package
          value: $(var description_package)
        - name: configuration_type
          value: $(var configuration_type)
        - name: gazebo_world_file
          value: $(var gazebo_world_file)
        - name: ardusub_params_file
          value: $(var ardusub_params_file)
